\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{math}[6666/66/66 Common math needs.]

\RequirePackage{amsmath, amssymb, amsfonts, amsthm}

% Math environments.
\newtheorem{defn}{Definition}[section]
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}{Lemma}[section]
\newtheorem{example}{Example}[section]
\newenvironment{solution}
  { \let\oldqedsymbol\qedsymbol%
    \renewcommand{\qedsymbol}{$\blacktriangleleft$}%
    \begin{proof}[Solution]
  }
  { \end{proof}%
    \renewcommand{\qedsymbol}{\oldqedsymbol}%
  }

% Redefine \left and \right to remove the surrounding extra space.
\let\ogleft\left
\let\ogright\right
\def\left{\mathopen{}\mathclose\bgroup\ogleft}
\def\right{\aftergroup\egroup\ogright}

% Autosized delimeters.
\newcommand{\s}[1]{\left\{#1\right\}}
\newcommand{\p}[1]{\left(#1\right)}
\renewcommand{\b}[1]{\left[#1\right]}

% Commands for common number sets.
\def\C{\mathbb{C}}
\def\N{\mathbb{N}}
\def\Q{\mathbb{Q}}
\def\R{\mathbb{R}}
\def\Z{\mathbb{Z}}
\def\ind{\mathbf{1}}

% Probability stuff.
\newcommand{\E}[2][]{\mathbb{E}_{#1}\b{#2}}
\renewcommand{\P}[2][]{\mathbb{P}_{#1}\b{#2}}
\newcommand{\cov}[1]{\operatorname{Cov}\b{#1}}
\newcommand{\var}[1]{\operatorname{Var}\b{#1}}
\newcommand{\id}{\operatorname{id}}

% Other common functions.
\newcommand{\argmin}{\operatorname*{arg\,min}}
\newcommand{\argmax}{\operatorname*{arg\,max}}
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
\newcommand{\abs}[1]{\left\lvert#1\right\rvert}
